# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

Annotations:
* *affects script.txt*: means the change requires updating user's script manually if was created with older version.
* *affects main.ini*: means the change requires updating user's main.ini manually if was created with older version.
* A date in brackets is for releases that had the date as the version.

## [24.6.13] - 2024-06-13
### Fixed
- Wait until a configuration is completely written and validated before saving over the original.
  - Consolidate path, saving, and loading code.
- Handle all situations regarding missing, blank, or invalid startup.ini (regarding selecting profiles).
- Manage "non-dated" files (TrueCrypt and VeraCrypt image files where timestamp doesn't change when files inside are modified--See #16)
  - Requires hc or tc extension!
- **Full Changelog**: https://github.com/Poikilos/BackupGoNow/compare/1.0.2...24.6.13

## [1.0.2] - 2018-06-14
(changed 2018-06-14; tagged 2018-06-15 on GitHub)
### Added
* button for "Add File"
* checkbox for "Recreate Full Path on Backup"
* recreate directory name (but still not full path) when "Recreate Full Path on Backup" is unchecked

### Changed
* for DestSubFolder option: when "Recreate Full Path on Backup" is unchecked, the non-blank DestSubFolder is now still used (always use the new modified ReconstructedBackupPath in AddFile, instead of skipping it).
* renamed bUseReconstructedPath AddFile param to enableRecreateFullPath

## [1.0.1] - 2018-06-14
### Added
* code comment on default DestSubFolder
* allow blank values in scripts
* allow null DestSubfolderRelNameThenSlash
### Changed
* (prevent compile error related to code added above) fix syntax of debug output

## [1.0.0] - 2018-06-14
### Added
* release binary (see 2018-07-15 for last changes); all previous releases were only on website's hidden releases directory
### Changed
* state version as "git" in title bar except when set manually (hardcoded) for releases

## [Unreleased] - 2017-08-03
### Added
* git history
  - conformed code of all versions to certain standards for better git history
    (see [2017-08-03 moving to version control.txt](https://github.com/poikilos/BackupGoNow/raw/master/etc/2017-08-03%20moving%20to%20version%20control.txt))
  - "Final changes before first GitHub release" just documents the process; did not add an actual binary release
    (see txt file above)
  - committed old copies of source code, each as separate commits with date in name of commit

## [Unreleased] - 2018-01-03
* Use previous answer to [determine whether to?] do retroactive backup (useLastDirectoryDREnable=true by default); added useLastRetroactiveDirectoryAnswer script setting (can be "yes" or "no")
* (in ReconstructedBackupPath workaround Microsoft's Path.Combine bug by removing leading slash from 2nd param of Path.Combine `if (retroactive_string.StartsWith(char.ToString(Path.DirectorySeparatorChar)))`) make retroactive backup go to backup instead of current directory
* *affects script.txt* (changed mispelled `__pychache__` to `__pycache__` in default exclusions) prevent backup of __pycache__; and Chrome's "Media Cache"
* (fixed by adding `fiDest.MoveTo(fiDest_Retroactive_FullName);`; was non-working except for per-directory operations (as opposed to per-file operations)) retroactive backup folders should contain files


## [Unreleased] - 2017-04-04
* *affects main.ini* During load, remove "loadprofile:" line so doesn't keep getting written over and over to sAllData
* after finishing script, try to launch the last run log (silent on exception showing log)
* made better description of error and where to find details
* *affects script.txt* add many more additions and exclusions to default profile (as generated by writeDefault_BackupScript method)
* add ReplacedUserVars method so that environment variables can be used in multiple places

## [Unreleased] - 2016-02-21
### Added
* places files in "tl" folder if file path is too long to backup properly otherwise (and records full source path for use during restore)
* use user profile fully: single "launcher" file can be placed anywhere and generates any files it needs in your user profile

## [Unreleased] - 2015-07-30
### Changed
* *affects script.txt*, *affects main.ini* Changed default profile -- main.ini: no longer use DestSubFolder option, no longer exclude D:, exclude some standard names of recovery drives (see Developer Notes section below) in order to not use them as destinations; script.txt: add only specific APPDATA and LOCALAPPDATA


## [Unreleased] - 2012-07-12
### Changed
* Fixed problem where showing incorrect error message due to comparing index >-2 instead of >-1 (added new messages for "being used by another process" & "UnauthorizedAccessException" instead of telling user that the filename was too long in those cases)
* only change lByteCountTotalActuallyAdded if Copy succeeded

## [2012-05-21] - 2012-05-21
### Added
* (2010-12-12) option to view log (using default txt viewer) under help menu
* (2010-12-12) RemoveEndsWhiteSpaceByRef method to Common.cs
* (2010-12-12) display line being run (in listbox using the format "   RunScriptLine(...)")
* (2010-11-18) display name of log file when done and say "(statistics)"
* (~2010-11-13) create batch file of failed directory creation and file copy operations 2009-12-10
* (~2010-11-13) send param of Output(...) method (uses lbOut) to Console.WriteLine (done 2009-12-09)
* (2010-02-10) estimates time remaining based on last run (using summary.log in profile folder)
### Changed
* (2011-02-22) Moved general file handling and drive management methods to Common.cs and LocInfo.cs, and now these files are references to those from the ForwardFileSync project.
* (2010-12-12) remove whitespace from beginning and end of line in RunScriptLine method
* (2010-11-14) Message should say out of space instead of filename too long when out of space exception string contains "system.io.ioexception: there is not enough space on the disk"
* (~2010-11-13) account for files previously backed up manually (so they aren't deleted).


## [2009-09-09] - 2009-09-09
### Added
* shows message when "Removing deleted/moved folder from backup"
### Changed
* no longer overwrites default profile if exists

## [2009-09-08] - 2009-09-08
(binary release only)
### Added
* profiles feature and default profile (profiles folder must be in current working directory; profile is specified by startup.ini)
* new setting "AlwaysStayOpen:no" in main.ini: If "no", program closes after run unless there are copy errors, in which case program now asks to review list and "Cancel" quits Backup GoNow.

## [2009-09-03] - 2009-09-03
(binary release only)
### Added
* (2009-06-09) delete folders on backup that don't exist on source (previously only files were deleted)
### Changed
* (2009-06-09) create reconstructed source path when adding single files with the option to use said path (prevents missing destination folder exception)
### Removed
* sample profiles related to actual installations

## [2008-10-22] - 2008-10-22

## [2008-10-09] - [2008-10-09

## [2008-10-06] - 2008-10-06
### Changed
* split settings into main.ini and script.txt, so main.ini excludes drives from list before script.txt runs
* renamed from GoNowBackup to Backup GoNow
* added dependency: FolderLister.cs and Chunker.cs from FolderLister

## [2007-08-15] - 2007-08-15
### Changed
* fixed infinite recursion in clean.sh
* updated build.sh to account for refactoring
* Turned off AutoScale for MainForm
* (2007-07-25) changed default settings to also backup self on linux
* (2007-07-25) updated MainFormFormClosed and MainFormFormClosing to use System.EventArgs
### Removed
* (2007-07-25) commented broken line in main: Application.SetCompatibleTextRenderingDefault(false);

## [2006-src] - 2007-01-25
(possibly with wrongly marked 2006, retroactively collected; files all have different times on 2007-01-25, so the 2007 timestamps are probably not a restamp that would have been from a backup&restore as thought previously)
### Changed
* prevent pushing button twice from crashing program

## [2006] - 2007-01-25
(possibly with wrongly marked 2006, retroactively collected--see next entry above for details)
